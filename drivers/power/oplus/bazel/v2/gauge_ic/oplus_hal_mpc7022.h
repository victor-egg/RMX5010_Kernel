/* SPDX-License-Identifier: GPL-2.0-only  */
/*
 * Copyright (C) 2018-2022 Oplus. All rights reserved.
 */

#ifndef __OPLUS_MPC7022_H__
#define __OPLUS_MPC7022_H__

#define MPC7022_I2C_ADDR			0x55

#define MPC7022_DEVICE_TYPE			0x0001
#define MPC7022_DATA_FLASH_BLOCK		0x3e
#define MPC7022_DATA_FLASH_START		0x40

#define MPC7022_BLOCK_SIZE			32

#define MPC7022_REG_DEVICE_TYPE			0x0001
#define MPC7022_DEVICE_TYPE_NUM_SIZE		2

#define MPC7022_REG_STATIC_DF_SIG		0x0005
#define MPC7022_REG_CHEMID			0x0006
#define MPC7022_REG_STATIC_CHEM_DF_SIG		0x0008

#define MPC7022_REG_CODE_CRC			0x0042

#define MPC7022_REG_SILI_LOSS_EXPANSION		0x00d0

#define MPC7022_REG_CIS_1			0x0090

#define MPC7022_REG_CIS_2			0x0093

#define MPC7022_REG_EIS_SOH			0x0096

#define MPC7022_REG_MANUFACTURER_NAME		0x0070
#define MPC7022_BATT_SERIAL_NUM_SIZE		19

#define MPC7022_REG_SET_FULL			0x0031
#define MPC7022_SET_FULL_NUM_SIZE		2
#define MPC7022_SET_FULL_OFFSET			0
#define MPC7022_SET_FULL_DATA			0X55AA

#define MPC7022_REG_BATT_MANUDATE		0x004d
#define MPC7022_BATT_MANUDATE_NUM_SIZE		2

#define MPC7022_REG_OPERATION_STATUS		0x0054
#define MPC7022_SEAL_NUM_SIZE			2
#define MPC7022_SEAL_MASK_BIT			(BIT(0) | BIT(1))

#define MPC7022_REG_GAUGEING_STATUS		0x0056

#define MPC7022_REG_TERM_VOLT			0x00c1
#define MPC7022_TERM_VOLT_BLOCK_SIZE		2
#define MPC7022_TERM_VOLT_NUM_SIZE		2
#define MPC7022_TERM_VOLT_OFFSET		0

#define MPC7022_REG_DELTA_TERM_VOLT		0x00c3
#define MPC7022_DELTA_TERM_VOLT_NUM_SIZE	4
#define MPC7022_DELTA_TERM_VOLT_OFFSET		0

#define MPC7022_REG_LIFETIME_ADDR		0x0060
#define MPC7022_LIFETIME_NUM_SIZE		10

#define MPC7022_REG_IPM_ADDR			0x007c
#define MPC7022_REG_CALIB_REASON_ADDR		0x007d
#define MPC7022_CAR_C_NUM_SIZE			2
#define MPC7022_CAR_C_OFFSET			8

#define MPC7022_REG_DA_STATUS1			0x0071
#define MPC7022_VOLT_NUM_SIZE			4

#define MPC7022_REG_IT_STATUS1			0x0073

#define MPC7022_REG_IT_STATUS2			0x0074
#define MPC7022_DOD_PASSED_Q_NUM_SIZE		6
#define MPC7022_DOD_PASSED_Q_OFFSET		10

#define MPC7022_REG_IT_STATUS3			0x0075
#define MPC7022_QMAX_NUM_SIZE			10

#define MPC7022_REG_CB_STATUS			0x0076

#define MPC7022_REG_DOD0			0x0080
#define MPC7022_DOD_NUM_SIZE			4
#define MPC7022_DOD_OFFSET			8

#define MPC7022_REG_SIMULATE_BLOCK		0x0083
#define MPC7022_REG_SIMULATE_CURR		0x0084

#define MPC7022_REG_HMAC_CTRL			0x00
#define MPC7022_REG_HMAC_DATA_1ST		0x40
#define MPC7022_REG_HMAC_DATA_2ND		0x50
#define MPC7022_REG_HMAC_CHECKSUM		0x60
#define MPC7022_REG_HMAC_LEN			0x61

#define MPC7022_REG_OPLUS_DATA			0x007b
#define MPC7022_DEEP_COUNT_NUM_SIZE		2
#define MPC7022_DEEP_COUNT_OFFSET		0
#define MPC7022_DEEP_VOLT_NUM_SIZE		2
#define MPC7022_DEEP_VOLT_OFFSET		3
#define MPC7022_DEEP_LAST_CC_NUM_SIZE		2
#define MPC7022_DEEP_LAST_CC_OFFSET		6
#define MPC7022_FIRST_USAGE_DATA_NUM_SIZE	2
#define MPC7022_FIRST_USAGE_DATA_OFFSET		20
#define MPC7022_UISOH_NUM_SIZE			1
#define MPC7022_UISOH_OFFSET			23
#define MPC7022_UI_CYCLE_COUNT_NUM_SIZE		2
#define MPC7022_UI_CYCLE_COUNT_OFFSET		25
#define MPC7022_USED_FLAG_NUM_SIZE		1
#define MPC7022_USED_FLAG_OFFSET		28

#define MPC7022_EXTEND_DATA_ADDR		0x40
#define MPC7022_EXTEND_DATA_CHECKSUM_ADDR	0x60
#define MPC7022_EXTEND_DATA_LEN_ADDR		0x61

#define MPC7022_REG_OCV				0x00d3

#define MPC7022_REG_IMP_VOLT_TABLT0		0x0100
#define MPC7022_REG_IMP_VOLT_TABLT1		0x0101
#define MPC7022_REG_IMP_VOLT_TABLT2		0x0102
#define MPC7022_REG_IMP_VOLT_TABLT3		0x0103

#define MPC7022_REG_SET_CUV_STATE_1		0x024e
#define MPC7022_REG_SET_CUV_STATE_2		0x024f
#define MPC7022_REG_CUV_STATE			0x0054
#define MPC7022_REG_CUV_STATE_MASK		BIT(0)
#define MPC7022_CUV_STATE_NUM_SIZE		1

#define MPC7022_REG_DA_CFG			0x4001
#define MPC7022_SLEEP_MODE_NUM_SIZE		1
#define MPC7022_SLEEP_MODE_OFFSET		26
#define MPC7022_SLEEP_MODE_MASK_BIT		BIT(4)

#define MPC7022_SEALED_SUBCMD			0x0030
#define MPC7022_UNSEALED_SUBCMD1		0x7236
#define MPC7022_UNSEALED_SUBCMD2		0x1404

#define MPC7022_I2C_TRY_COUNT			7

/* mpc7022 standard data commands */
#define MPC7022_REG_TEMP			0x06
#define MPC7022_REG_VOLT			0x08
#define MPC7022_REG_FLAGS			0x0a
#define MPC7022_REG_TI				0x0c
#define MPC7022_REG_RM				0x10
#define MPC7022_REG_FCC				0x12
#define MPC7022_REG_AI				0x14
#define MPC7022_REG_CC				0x2a
#define MPC7022_REG_SOC				0x2c
#define MPC7022_REG_SOH				0x2e
#define MPC7022_REG_DATA			0x72

#define ZERO_DEGREE_CELSIUS_IN_TENTH_KELVIN	(-2731)

#endif /* __OPLUS_MPC7022_H__ */
